services:
  - type: web
    name: my-servlet-app
    env: java
    buildCommand: |
      curl -sL https://apache.org/dist/maven/maven-3/3.8.1/binaries/apache-maven-3.8.1-bin.tar.gz | tar xz -C /tmp
      export MAVEN_HOME=/tmp/apache-maven-3.8.1
      export PATH=$MAVEN_HOME/bin:$PATH
      mvn clean install
    startCommand: java -cp "target/myapp.war:target/*" org.apache.catalina.startup.Catalina start
    envVars:
      - key: DATABASE_URL
        value: "jdbc:postgresql://your-database-host:5432/loginpage"
      - key: DATABASE_USERNAME
        value: "postgres"
      - key: DATABASE_PASSWORD
        value: "tiger"
